@model List<DoctorAppointment.Model.AppointmentModel>
@using System.Globalization

@{
    ViewBag.Title = "Appointments";
    Layout = "~/Views/Shared/_DoctorLayout.cshtml";
}

<h2 class="text-center">Appointment Detailed Report</h2>
<input type="hidden" id="doctorID" value=@ViewBag.doctorID>

<div>
    Select Month:
    <select id="selectedMonth">
        @for (int i = 1; i <= 12; i++)
        {
            <option value="@i" @(DateTime.Now.Month == i ? "selected" : "")>@CultureInfo.CurrentCulture.DateTimeFormat.GetMonthName(i)</option>
        }
    </select>

    Select Year:
    <select id="selectedYear">
        @for (int i = DateTime.Now.Year; i >= DateTime.Now.Year - 10; i--)
        {
            <option value="@i" @(DateTime.Now.Year == i ? "selected" : "")>@i</option>
        }
    </select>

    <button id="exportPDFButton" class="btn btn-outline-dark">Export to PDF</button>
</div>

<div class="table-responsive">
    <table class="table table-bordered" id="appointmentDetailedReport">
        <thead>
            <tr>
                <th>Date</th>
                <th>Appointment Time</th>
                <th>Patient Name</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody id="appointmentList">
        </tbody>

    </table>
</div>

@section scripts {
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.2/jspdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.15/jspdf.plugin.autotable.min.js"></script>
    <script src="~/Scripts/AppointmentDetailedReport.js"></script>
}
